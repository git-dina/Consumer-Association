<UserControl x:Class="POSCA.View.sales.uc_salesInvoice"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:POSCA.View.sales"
             mc:Ignorable="d"  Tag="salesInvoice"  Loaded="UserControl_Loaded" Unloaded="UserControl_Unloaded"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             d:DesignHeight="1100" d:DesignWidth="950"
             KeyUp="UserControl_KeyUp">
    <Grid x:Name="grid_main" Margin="20 10" >
        <Grid.ColumnDefinitions>
            <ColumnDefinition x:Name="cd_gridMain1" Width="5*"/>
            <ColumnDefinition x:Name="cd_gridMain2" Width="1.5*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition   Height="60" />
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <Border x:Name="brd_grid0_0" IsEnabled="True"  Grid.Row="0" Grid.Column="0" 
            BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black" Background="White" Padding="0" Margin="5">
            <Border.Effect>
                <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
            </Border.Effect>
            <Grid   Margin="0 0 0 0"  >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>
                    <!--<ColumnDefinition Width="auto" MinWidth="75"/>-->
                </Grid.ColumnDefinitions>
                <Border CornerRadius="7 0 0 7"
                           Background="{StaticResource SecondColor}"
                           Width="10" />
                <Border  Grid.Row="1" Grid.Column="1" x:Name="brd_search" CornerRadius="0" Margin="10,5,10,5"   BorderThickness="0 0 0 1" BorderBrush="{StaticResource Grey}">
                    <Grid   >
                        <TextBox  x:Name="tb_search"  
                                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"  
                                         Padding="10,0,5,0"    BorderThickness="0" 
                                         materialDesign:HintAssist.Hint="Enter Here To Start Search ...." 
                                         Foreground="{StaticResource textColor}"
                                  KeyDown="tb_search_KeyDown"
                                  Height="40"   Margin="0" 
                              VerticalAlignment="Center"
                                         materialDesign:TextFieldAssist.CharacterCounterStyle="{Binding}" 
                                      
                                       />
                    </Grid>
                </Border>
                <!--<Border Grid.Column="2"  Margin="5" Background="White" CornerRadius="16" Height="40">
                    <CheckBox x:Name="chk_barcode"  IsChecked="True"
                              Background="{StaticResource MainColor}"
                              Content="barcode" 
                              Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                               Margin="0" Height="35"
                              Checked="searchType_check"
                              Unchecked="searchType_uncheck"/>
                </Border>
                <Border Grid.Column="3"  Margin="5" Background="White" CornerRadius="16" Height="40">

                    <CheckBox x:Name="chk_itemNum" 
                              Background="{StaticResource MainColor}"
                              Content="itemNum"
                              Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                               Margin="0" Height="35"
                              Checked="searchType_check"
                              Unchecked="searchType_uncheck"/>
                </Border>
                <Border Grid.Column="4" Height="50" 
                        CornerRadius="0 7 7 0"
                        Margin="0" Padding="0" Background="{StaticResource SecondColor}">
                    <Button  BorderBrush="{x:Null}"  
                    Background="{x:Null}" 
                        x:Name="btn_search" 
                        materialDesign:ButtonAssist.CornerRadius="15"
                        Padding="0"  
                    Click="Btn_search_Click">
                        <StackPanel Orientation="Horizontal" Margin="5 0" >
                            <TextBlock x:Name="txt_search" Text="search"  Foreground="White" Margin="5"/>

                            --><!--<Path Fill="{StaticResource White}" Margin="5"
                              Stretch="Fill" Height="20"  Width="20" x:Name="path_search"
                          Data="{StaticResource magnifying}"  />--><!--
                        </StackPanel>

                    </Button>
                </Border>-->

            </Grid>
        </Border>
        <Border x:Name="brd_grid0_1" Grid.Row="0" Grid.Column="1" 
            BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black" Background="White" Padding="0" Margin="5">
            <Border.Effect>
                <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
            </Border.Effect>
            <DockPanel LastChildFill="False"   Margin="10,0" >
                <!--<Button DockPanel.Dock="Right" Grid.Column="3" BorderBrush="{x:Null}" Padding="0"  Margin="5,10,5,0" Height="auto"
                    Background="{x:Null}" x:Name="btn_preview"  Click="Btn_preview_Click"  >
                    <StackPanel>
                        <Path Fill="#4E4E4E" Stretch="Fill"  
                        Height="30" Width="30" 
                           Data="{StaticResource preview}"  />
                        <TextBlock Text="preview" x:Name="txt_preview" Foreground="#178DD2" 
                                           FontWeight="Regular" FontSize="8" TextAlignment="Center" Width="35"
                                           HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>-->
                <!--<Button Grid.Column="2" DockPanel.Dock="Right" BorderBrush="{x:Null}" Padding="0"  Margin="5,10,5,0" Height="auto"
                    Background="{x:Null}" x:Name="btn_pdf" Click="Btn_pdf_Click"   >
                    <StackPanel>
                        <Path Fill="#4E4E4E" Stretch="Fill"  
                         Height="30" Width="25" 
                           Data="{StaticResource pdf}" />
                        <TextBlock Text="pdf" x:Name="txt_pdf" Foreground="#178DD2" 
                                           FontWeight="Regular" FontSize="8" TextAlignment="Center" Width="35"
                                           HorizontalAlignment="Center"/>
                    </StackPanel>
                </Button>-->
                <Button Grid.Column="1" DockPanel.Dock="Right" BorderBrush="{x:Null}" Padding="0"
                        Margin="5,0,5,0" Height="auto"
                    Background="{x:Null}" x:Name="btn_printInvoice" Click="btn_printInvoice_Click"  >
                    <StackPanel>
                        <Path Fill="#4E4E4E" Stretch="Fill"  
                       Height="30" Width="30"
                           Data="{StaticResource printer}" />
                        <!--<TextBlock Text="print" x:Name="txt_printInvoice" Foreground="#178DD2" 
                                           FontWeight="Regular" FontSize="8" TextAlignment="Center" Width="35"
                                           HorizontalAlignment="Center"/>-->
                    </StackPanel>
                </Button>
                <!--<Border   DockPanel.Dock="Right" 
                    Margin="7.5"  CornerRadius="0,0,0,0"  
                           Width="2" BorderThickness="0" Background="{StaticResource SecondColor}" />-->
                <Button Grid.Column="1" BorderBrush="{x:Null}"  
                        VerticalAlignment="Center"
                    Background="{x:Null}" x:Name="btn_newDraft" Padding="0" Margin="5,0,5,0" Height="40"
                    Click="Btn_newDraft_Click">
                    <StackPanel>
                        <Path Fill="#4E4E4E" Stretch="Fill" Height="30"  Width="30" x:Name="path_newDraft"
                          Data="{StaticResource plusCircle}"  />
                        <!--<TextBlock Text="clear" x:Name="txt_newDraft" Foreground="#178DD2" 
                                           FontWeight="Regular" FontSize="8" TextAlignment="Center" Width="35"
                                           HorizontalAlignment="Center"/>-->
                    </StackPanel>
                </Button>

                <Button Grid.Column="2" BorderBrush="{x:Null}" Padding="0"   
                            Height="auto" Margin="5,0,5,0" DockPanel.Dock="Right"
                    Background="{x:Null}" x:Name="btn_receiptOrders"  Click="Btn_receiptOrders_Click" >
                    <StackPanel>
                        <Path Fill="#4E4E4E" Stretch="Fill"  
                          Width="30" Height="30"  
                              FlowDirection="LeftToRight"
                          Data="{StaticResource invoice}" />
                        <!--<TextBlock Text="invoices" x:Name="txt_invoices" Foreground="#178DD2" 
                                           FontWeight="Regular" FontSize="8" TextAlignment="Center" Width="35"
                                           HorizontalAlignment="Center"/>-->
                    </StackPanel>
                </Button>
                <!--</materialDesign:Badged>-->


            </DockPanel>
        </Border>
        <Border x:Name="brd_grid1_0" Grid.Row="1" Grid.Column="0" 
            BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black" Background="White" Padding="0" Margin="5">
            <Border.Effect>
                <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
            </Border.Effect>
            <Grid   Margin="0" >
                <Grid.RowDefinitions >
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                </Grid.RowDefinitions>
                <TextBlock Text="sale invoice" x:Name="txt_invoiceTitle" Foreground="{StaticResource SecondColor}" FontWeight="Bold" FontSize="18"  
                                     VerticalAlignment="Center" 
                                       HorizontalAlignment="Left" Margin="10,10,5,5"/>
                <StackPanel Orientation="Horizontal" Margin="5,5,10,0"  
                                       HorizontalAlignment="Right">
                    <TextBlock  VerticalAlignment="Center"   Text="" x:Name="txt_invNumber"  Foreground="#4E4E4E" 
                                   FontWeight="SemiBold" FontSize="14"/>
                    <Button Grid.Column="5" BorderBrush="{x:Null}" Padding="0"   Margin="10,5,5,5" Height="auto"
                                    Background="{x:Null}" Visibility="Collapsed"
                                    x:Name="btn_deleteInvoice" Click="Btn_deleteInvoice_Click"  >
                        <Path Fill="{StaticResource mediumRed}" Stretch="Fill"  
                                       Width="20" Height="20"  
                           Data="M157.57,203.88c-9.5,0-19,0-28.51,0a5.6,5.6,0,0,1-4.41-1.74q-20.31-20.43-40.75-40.75a4.89,4.89,0,0,1-1.55-3.84q.08-28.82,0-57.64A5.25,5.25,0,0,1,84,95.84q20.43-20.31,40.76-40.74a4.93,4.93,0,0,1,3.82-1.63q29,.08,58,0a5,5,0,0,1,3.83,1.63q20.33,20.43,40.76,40.75A5.24,5.24,0,0,1,232.8,100q-.08,28.82,0,57.64a4.92,4.92,0,0,1-1.56,3.84q-20.43,20.31-40.75,40.75a5.6,5.6,0,0,1-4.42,1.73C176.57,203.85,167.07,203.88,157.57,203.88Zm30.05-33.55c.6-.57,1.13-1,1.63-1.54,2.74-2.72,5.36-5.57,8.24-8.14,1.73-1.54,1.48-2.43,0-3.92-8.7-8.57-17.25-17.28-26-25.83-1.7-1.67-1.89-2.58-.07-4.36,8.74-8.52,17.26-17.28,26-25.8,1.77-1.73,1.55-2.65-.08-4.13A88.34,88.34,0,0,1,190,89.29c-1.78-2.05-2.93-2.05-4.86-.07C176.73,97.88,168,106.32,159.6,115c-1.71,1.76-2.5,1.55-4.07,0-8.63-8.78-17.4-17.42-26.06-26.18-1.37-1.39-2.27-1.67-3.71-.09-2.54,2.76-5.2,5.43-8,8-1.69,1.55-1.7,2.49,0,4.16,8.73,8.54,17.27,17.27,26,25.82,1.63,1.61,1.78,2.44.05,4.13-8.73,8.53-17.27,17.26-26,25.82-1.6,1.57-2,2.53-.11,4.17a101.06,101.06,0,0,1,7.75,7.74c1.53,1.69,2.43,1.79,4.13.05,8.45-8.67,17.15-17.1,25.58-25.79,2-2,3-1.78,4.81.1,8.38,8.59,16.92,17,25.42,25.5C186.09,169,186.79,169.57,187.62,170.33Z"/>
                    </Button>
                </StackPanel>

                <DataGrid x:Name="dg_invoiceDetails"  Margin="5,5" Grid.Row="1"   Grid.ColumnSpan="2"    Background="White"
                      materialDesign:DataGridAssist.CornerRadius="5" Visibility="Visible"
                         IsReadOnly="False" CanUserAddRows="False"   
                        AutoGenerateColumns="False"
                        CanUserReorderColumns="False"
                        ColumnWidth="SizeToHeader"   CanUserSortColumns="False" 
                        VirtualizingStackPanel.IsVirtualizing="False"  
                        EnableRowVirtualization="True" EnableColumnVirtualization="True"
                        CellEditEnding="dg_invoiceDetails_CellEditEnding">
                    <DataGrid.Resources>
                        <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}"></SolidColorBrush>
                        <Style BasedOn="{StaticResource {x:Type DataGridColumnHeader}}" TargetType="{x:Type DataGridColumnHeader}">
                            <Setter Property="Background" Value="#e7f3fa" />
                            <Setter Property="BorderBrush" Value="White"/>
                            <Setter Property="BorderThickness" Value="0 0 1 0"/>
                            <Setter Property="Foreground" Value="{StaticResource textColor}"/>
                            <Setter Property="FontSize" Value="9"/>
                            <Setter Property="Padding" Value="1"/>
                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                            <Setter Property="FontFamily" Value="{StaticResource Font-cairo-regular}"/>
                            <Setter Property="ContentTemplate">
                                <Setter.Value>
                                    <DataTemplate>
                                        <TextBlock TextWrapping="Wrap" Text="{Binding}"></TextBlock>
                                    </DataTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </DataGrid.Resources>
                    <DataGrid.Columns >
                        <!--<DataGridTemplateColumn Width="20" Header="" IsReadOnly="True" >
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Margin="-10"   Click="deleteRowFromInvoiceItems"
                                                   Padding="0" ToolTip="Delete" 
                          Background="{x:Null}" BorderBrush="{x:Null}">
                                        <materialDesign:PackIcon Foreground="#178DD2" Kind="MinusThick"  
                              HorizontalAlignment="Center" Grid.Column="0"  
                         VerticalAlignment="Center" Width="17" Height="17"/>
                                    </Button>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>-->

                        <DataGridTextColumn IsReadOnly="True" Width="*"  Header="Barcode" Binding="{Binding Path=Barcode, Mode=TwoWay}"/>
                        <DataGridTextColumn IsReadOnly="True" Width="*"  Header="ItemName" Binding="{Binding Path=ItemName, Mode=TwoWay}"/>
                        <DataGridTextColumn IsReadOnly="True" Width="*"  Header="Qty" Binding="{Binding Path=Qty, Mode=TwoWay}"/>
                        <DataGridTextColumn IsReadOnly="True" Width="*"  Header="Price" Binding="{Binding Path=Price, Mode=TwoWay,  Converter={StaticResource accuracyConverter }}"/>
                        <DataGridTextColumn IsReadOnly="True" Width="*"  Header="Total" Binding="{Binding Path=Total, Mode=TwoWay,  Converter={StaticResource accuracyConverter }}"/>
                    </DataGrid.Columns>
                </DataGrid>
                <Separator Margin="5,0" Grid.Row="2"  Background="#DFDFDF" VerticalAlignment="Center" Width="auto" />
                <Border BorderThickness="0,0,0,1" BorderBrush="{StaticResource SecondColor}" Margin="10,0,10,10" Width="auto"
                     Grid.RowSpan="2"   HorizontalAlignment="Right" VerticalAlignment="Bottom">
                    <StackPanel  Orientation="Horizontal" >
                        <Button   x:Name="btn_columnSwap" Click="btn_columnSwap_Click" Grid.Column="3" Padding="0" 
                               VerticalAlignment="Center" Background="{x:Null}" BorderBrush="{x:Null}"   >
                            <Path Fill="{StaticResource SecondColor}" Stretch="Fill" 
                         Width="25" Height="25" 
                              Data="{StaticResource twoWayArrow}"/>
                        </Button>
                    </StackPanel >
                </Border>
            </Grid>
        </Border>
        <Grid x:Name="brd_grid1_1" Grid.Row="1" Grid.Column="1" >
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition x:Name="rd_locationsGrid" Height="auto"/>
            </Grid.RowDefinitions>
            <Border  
            BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black" Background="White" Padding="0" Margin="5">
                <Border.Effect>
                    <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
                </Border.Effect>
                <!--<StackPanel   Margin="0,10" >-->
                <!--#region  invoiceDetails-->
                <ScrollViewer Margin="0,10" Background="White"  Grid.Row="1"   VerticalScrollBarVisibility="Auto"   >
                    <StackPanel   >
                        <TextBlock Tag="invoiceDetails"   Text="invoiceDetails" x:Name="txt_invoiceDetails" Foreground="{StaticResource SecondColor}" 
                                                FontWeight="Bold" FontSize="12"  
                                       HorizontalAlignment="Left" Margin="20,5,5,5"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock   Grid.Column="0"
                                Text="InvNumber" 
                            x:Name="txt_InvNumberTitle"  
                                         Margin="10"
                            Foreground="{StaticResource textColor}" 
                            FontWeight="Bold" FontSize="12" 
                            />
                            <TextBlock  x:Name="txt_InvNumber"
                                    Grid.Row="0" Grid.Column="1"
                            Text="#0651616" 
                                    HorizontalAlignment="Right"
                            Foreground="{StaticResource textColor}" 
                             FontSize="12"  
                            Margin="10"/>

                        </Grid>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock   Grid.Column="0"
                                Text="Location" 
                            x:Name="txt_LocationTitle"  
                                         Margin="10"
                            Foreground="{StaticResource textColor}" 
                            FontWeight="Bold" FontSize="12" 
                            />
                            <TextBlock  x:Name="txt_Location"
                                    Grid.Row="0" Grid.Column="1"
                            Text="" 
                                    HorizontalAlignment="Right"
                            Foreground="{StaticResource textColor}" 
                             FontSize="12"  
                            Margin="10"/>

                        </Grid>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock   Grid.Column="0"
                                Text="Machine" 
                            x:Name="txt_MachineTitle"  
                                         Margin="10"
                            Foreground="{StaticResource textColor}" 
                            FontWeight="Bold" FontSize="12" 
                            />
                            <TextBlock  x:Name="txt_Machine"
                                    Grid.Row="0" Grid.Column="1"
                            Text="" 
                                    HorizontalAlignment="Right"
                            Foreground="{StaticResource textColor}" 
                             FontSize="12"  
                            Margin="10"/>

                        </Grid>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock   Grid.Column="0"
                                Text="Shift" 
                            x:Name="txt_ShiftTitle"  
                                         Margin="10"
                            Foreground="{StaticResource textColor}" 
                            FontWeight="Bold" FontSize="12" 
                            />
                            <TextBlock  x:Name="txt_Shift"
                                    Grid.Row="0" Grid.Column="1"
                            Text="" 
                                    HorizontalAlignment="Right"
                            Foreground="{StaticResource textColor}" 
                             FontSize="12"  
                            Margin="10"/>

                        </Grid>

                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock   Grid.Column="0"
                                Text="LastInv" 
                            x:Name="txt_LastInvTitle"  
                                         Margin="10"
                            Foreground="{StaticResource textColor}" 
                            FontWeight="Bold" FontSize="12" 
                            />
                            <TextBlock  x:Name="txt_LastInv"
                                    Grid.Row="0" Grid.Column="1"
                            Text="" 
                                    HorizontalAlignment="Right"
                            Foreground="{StaticResource textColor}" 
                             FontSize="12"  
                            Margin="10"/>

                        </Grid>
                        <!--<Border Grid.Row="1" Margin="5"  
                        BorderThickness="0 0 0 1" 
                        BorderBrush="{StaticResource LightGrey}"/>-->
                       
                        <!--<Border Grid.Row="2" CornerRadius="0" Margin="10,5,10,5"   BorderThickness="0 0 0 1" BorderBrush="{StaticResource Grey}">
                            <Grid   >
                                <ComboBox x:Name="cb_CustomerId"    SelectedValue="{Binding CustomerId, Mode=TwoWay}"
                                  Padding="10,0,5,0"  TextBlock.Foreground="{StaticResource textColor}"
                                  materialDesign:HintAssist.Hint="CustomerId..."  
                                   Style="{StaticResource MaterialDesignFloatingHintComboBox}" 
                                  Grid.Column="0" Height="40"  Margin="0,0"
                                  BorderBrush="#737373" BorderThickness="0"
                                  KeyUp="cb_CustomerId_KeyUp"
                                  SelectionChanged="Cb_CustomerId_SelectionChanged"
                                  IsTextSearchEnabled ="False"
                                  IsEditable="True"
                                  StaysOpenOnEdit="true"/>
                                <Path Fill="#E81123" x:Name="p_error_SupplierId" Stretch="Fill" Margin="5,5,20,5"
                              HorizontalAlignment="Right" Grid.Row="8"  Visibility="Collapsed"   
                         VerticalAlignment="Center" Width="15"  Height="15" 
                             Data="{StaticResource infoCircle}"/>

                            </Grid>
                        </Border>-->






                    </StackPanel>
                </ScrollViewer>
                <!--#endregion-->
                <!--</StackPanel>-->
            </Border>
            <Border  Grid.Row="1" x:Name="brd_payTypesGrid"
            BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black" Background="White" Padding="0" Margin="5">
                <Border.Effect>
                    <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
                </Border.Effect>
                <!--<ScrollViewer Margin="0,10" Background="White"  Grid.Row="1"   VerticalScrollBarVisibility="Auto"   >-->
                <StackPanel  Margin="0,10" >
                    <TextBlock Tag="customerDetails"   Text="customerDetails" x:Name="txt_customerDetails" Foreground="{StaticResource SecondColor}" 
                        FontWeight="Bold" FontSize="12"  
               HorizontalAlignment="Left" Margin="20,5,5,5"/>

                    <Border  Grid.Row="1" CornerRadius="0" Margin="10,5,10,5"   BorderThickness="0 0 0 1" BorderBrush="{StaticResource Grey}">
                        <Grid   >

                            <TextBox x:Name="tb_CustomerId"  Text="{Binding CustomerId, Mode=OneWay}" Padding="10,0,5,0" 
                             Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                             materialDesign:HintAssist.Hint="CustomerId..."  
                             Foreground="{StaticResource textColor}"  
                             MaxLength="50" Tag="int" BorderThickness="0"
                             materialDesign:TextFieldAssist.CharacterCounterStyle="{Binding}"
                             Height="40"  Margin="0,0" 
                             LostFocus="validateEmpty_LostFocus" TextChanged="ValidateEmpty_TextChange"
                             KeyDown="tb_CustomerId_KeyDown"/>
                        </Grid>
                    </Border>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock   Grid.Column="0"
         Text="Customer" 
     x:Name="txt_CustomerTitle"  
                  Margin="10"
     Foreground="{StaticResource textColor}" 
     FontWeight="Bold" FontSize="12" 
     />
                        <TextBlock  x:Name="txt_Customer"
             Grid.Row="0" Grid.Column="1"
     Text="" 
             HorizontalAlignment="Right"
     Foreground="{StaticResource textColor}" 
      FontSize="12"  
     Margin="10"/>

                    </Grid>
                    <Grid Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock   Grid.Column="0"
         Text="Balance" 
     x:Name="txt_CustomerBalanceTitle"  
                  Margin="10"
     Foreground="{StaticResource textColor}" 
     FontWeight="Bold" FontSize="12" 
     />
                        <TextBlock  x:Name="txt_CustomerBalance"
             Grid.Row="0" Grid.Column="1"
     Text="" 
             HorizontalAlignment="Right"
     Foreground="{StaticResource textColor}" 
      FontSize="12"  
     Margin="10"/>

                    </Grid>

                </StackPanel>
                <!--</ScrollViewer>-->
            </Border>
        </Grid>
        <Border x:Name="brd_grid2_0" Grid.Row="2" Grid.Column="0" 
            BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black" Background="White" Padding="0" Margin="5">
            <Border.Effect>
                <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
            </Border.Effect>
                <Grid Margin="10,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="auto"/>
                        <ColumnDefinition Width="auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock  Text="Quantity" Grid.Column="0"
                            x:Name="txt_QuantityTitle" 
                                Margin="5"
                            Foreground="{StaticResource SecondColor}" 
                            FontWeight="Bold" FontSize="20"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                            />
                    <TextBlock  Text="0.00" Grid.Row="1" Grid.Column="1"
                            x:Name="txt_Quantity" 
                            Foreground="{StaticResource textColor}" 
                             FontSize="20"  
                            Margin="5"
                                 HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>


                <TextBlock Grid.Row="0" Grid.Column="3"
                        Margin="5"
                            Text="Total" 
                            x:Name="txt_TotalTitle" 
                            Foreground="{StaticResource SecondColor}" 
                            FontWeight="Bold" FontSize="20" 
                                      HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                            />
                <TextBlock  Text="0.00" Grid.Row="1" Grid.Column="4"
                            x:Name="txt_Total" 
                            Foreground="{StaticResource textColor}" 
                             FontSize="20"  
                            Margin="5"
                                 HorizontalAlignment="Center"
                                VerticalAlignment="Center"/>


                  

                </Grid>
        </Border>
        <Border x:Name="brd_grid2_1" Grid.Row="2" Grid.Column="1" 
                BorderThickness="0"  
                    CornerRadius="7" BorderBrush="Black"
                Background="{StaticResource SecondColor}" Padding="0" Margin="5"
                >
            <Border.Effect>
                <DropShadowEffect
                          ShadowDepth="1"
                          Direction="360"
                          Color="Gray"
                          Opacity="0.3"
                         BlurRadius="10"/>
            </Border.Effect>
            <Button Content="Save"  BorderBrush="{x:Null}"  FontSize="22" FontWeight="Bold" x:Name="btn_save"
                Background="{x:Null}" Click="Btn_save_Click" 
                    Padding="0" Foreground="White" />
        </Border>

    </Grid>
</UserControl>
